<mat-expansion-panel hideToggle (opened)="panelOpenState = true" (closed)="panelOpenState = false">
  <mat-expansion-panel-header>
    <div class="header-content">
      <div class="header-content__img">
        <img class="img" src="assets/pics/research/research-12/{{miniResearch.id}}.png" alt="" />
      </div>
      <div class="header-content__main">
        <div class="title-wrapper">
          <h2 class="title" [class.active]="panelOpenState" *ngIf="miniResearch?.name as name">{{ name }}</h2>
        </div>
        <div class="total-projects" [class.active]="panelOpenState">
          Выполнено <strong>{{ miniResearch?.done }}</strong>
        </div>
      </div>
      <div class="header-content__controls">
        <button class="btn btn-order" [class.active]="panelOpenState">Заказать</button>
        <button class="btn btn-more" *ngIf="!panelOpenState">Подробнее</button>
        <span class="min-price" *ngIf="panelOpenState && miniResearch?.minPrice">От {{ miniResearch?.minPrice }} тг</span>
      </div>
    </div>
  </mat-expansion-panel-header>

  <div class="research-details">
    <app-mini-carousel *ngIf="miniResearch?.gallery" [miniResearchId]="miniResearch.id" [gallery]="miniResearch.gallery"></app-mini-carousel>
  
    <p class="research-details__desc">{{ miniResearch?.desc }}</p>
  
    <app-experts-list class="research-details__experts" [researchId]="miniResearch.id"></app-experts-list>
  </div>
</mat-expansion-panel>